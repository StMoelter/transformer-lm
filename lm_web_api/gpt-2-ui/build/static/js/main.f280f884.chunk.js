(this["webpackJsonpgpt-2-ui"]=this["webpackJsonpgpt-2-ui"]||[]).push([[0],{50:function(e,t,a){e.exports=a(83)},83:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(17),s=a.n(i),o=a(16),l=a(48),c=a(30),u=a(22),m=(a(55),a(9)),p=a(10),d=a(7),f=a(11),h=a(12),b=a(5),E=a(24),O=a(6),v=function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(e,n){var r;return Object(m.a)(this,a),(r=t.call(this,e,n)).setText=r.setText.bind(Object(d.a)(r)),r}return Object(p.a)(a,[{key:"setText",value:function(e){this.props.setText(e.target.value)}},{key:"render",value:function(){return r.a.createElement(b.a,null,r.a.createElement(b.a.Header,null,"Generated Text"),r.a.createElement(b.a.Body,null,r.a.createElement(b.a.Text,null,r.a.createElement(E.a.Control,{as:"textarea",rows:"10",value:this.props.generatedtext,onChange:this.setText}))))}}]),a}(r.a.Component),g=Object(O.b)((function(e){return{generatedtext:e.generatedtext}}),(function(e){return{setText:function(t){e({type:"setText",generatedtext:t})}}}))(v),k=a(8),j=a(46),x=a(45),T=a.n(x),y=window.location.origin+"/gpt2";function S(e){return{type:"FETCH_PREDICTIONS_LOADING",isLoading:e}}var P=function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(e,n){var r;return Object(m.a)(this,a),(r=t.call(this,e,n)).loadPredictions=r.loadPredictions.bind(Object(d.a)(r)),r}return Object(p.a)(a,[{key:"loadPredictions",value:function(){this.props.fetchPredictions({amountOfPredictions:this.props.amountOfPredictions,generatedtext:this.props.generatedtext,sampletext:this.props.sampletext,temperature:this.props.temperature,tokens:this.props.tokens,topk:this.props.topk})}},{key:"render",value:function(){return r.a.createElement(b.a,null,r.a.createElement(b.a.Header,null,"Go"),r.a.createElement(b.a.Body,null,this.props.isLoading?r.a.createElement(k.a,{variant:"primary",disabled:!0},r.a.createElement(j.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}),"\xa0 Loading..."):r.a.createElement(k.a,{as:"input",type:"submit",value:"Generate",size:"lg",onClick:this.loadPredictions})))}}]),a}(r.a.Component),C=Object(O.b)((function(e){return{amountOfPredictions:e.amountOfPredictions,isLoading:e.isLoading,generatedtext:e.generatedtext,sampletext:e.sampletext,temperature:e.temperature,tokens:e.tokens,topk:e.topk}}),(function(e){return{fetchPredictions:function(t){return e((a=t,function(e){e(S(!0));var t={text:a.sampletext+" "+a.generatedtext,params:{amount_of_predictions:a.amountOfPredictions,temperature:a.temperature,top_k:a.topk,tokens_to_generate:a.tokens}};T.a.post(y,t,{headers:{Authorization:"Bearer 337b14a7-5865-4b24-a2f0-44d98133c860"}}).then((function(t){if(e(S(!1)),200!==t.status)throw Error(t.statusText);return t})).then((function(t){return e((a=t.data.result.predictions,n=t.data.time,{type:"FETCH_PREDICTIONS_SUCCESS",predictions:a,time:n}));var a,n})).catch((function(){return e({type:"FETCH_PREDICTIONS_ERROR",hasError:!0,errorMessage:"Unknown Error"})}))}));var a}}}))(P),w=a(47),N=function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(e,n){var r;return Object(m.a)(this,a),(r=t.call(this,e,n)).metaData=r.metaData.bind(Object(d.a)(r)),r.showPrediction=r.showPrediction.bind(Object(d.a)(r)),r}return Object(p.a)(a,[{key:"showPredictions",value:function(){var e=this;return this.props.predictions.map((function(t){return e.showPrediction(t)}))}},{key:"showPrediction",value:function(e){var t=this;return r.a.createElement(b.a.Body,{key:Object(w.v4)()},r.a.createElement("div",{className:"d-flex"},r.a.createElement("div",{className:"p-2"},e),r.a.createElement("div",{className:"p-2 ml-auto"},r.a.createElement(k.a,{as:"input",type:"submit",value:"Apply",size:"sm",onClick:function(){return t.props.addText(e)}}))))}},{key:"metaData",value:function(){var e=this.props.predictions.length;return 0===e?"":" ( time: ".concat(this.props.time," | amount: ").concat(e," )")}},{key:"render",value:function(){return r.a.createElement(u.a,{className:"mt-3"},r.a.createElement(o.a,null,r.a.createElement(b.a,null,r.a.createElement(b.a.Header,null,"Predictions",this.metaData()),this.showPredictions())))}}]),a}(r.a.Component),z=Object(O.b)((function(e){return{isLoading:e.isLoading,predictions:e.predictions,time:e.time}}),(function(e){return{addText:function(t){return e({type:"addText",text:t})}}}))(N),M=a(18),V=a.n(M),H=(a(23),function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(e,n){var r;return Object(m.a)(this,a),(r=t.call(this,e,n)).resetValue=function(e){r.props.resetAmountOfPredictions(),e.target.blur()},r.resetValue=r.resetValue.bind(Object(d.a)(r)),r}return Object(p.a)(a,[{key:"render",value:function(){var e=this.props.amountOfPredictions,t=this.props.setAmountOfPredictions;return r.a.createElement(b.a,null,r.a.createElement(b.a.Header,null,"# Predictions"),r.a.createElement(b.a.Body,null,r.a.createElement(V.a,{min:1,max:10,step:1,value:e,onChange:t})),r.a.createElement(b.a.Footer,null,r.a.createElement("div",{className:"d-flex"},r.a.createElement("div",{className:"p-2"},r.a.createElement(k.a,{as:"input",type:"button",value:String(e).padStart(2,"0"),size:"sm",disabled:!0})),r.a.createElement("div",{className:"p-2 ml-auto"},r.a.createElement(k.a,{as:"input",type:"reset",value:"Reset",size:"sm",onClick:this.resetValue})))))}}]),a}(r.a.Component)),I=Object(O.b)((function(e){return{amountOfPredictions:e.amountOfPredictions}}),(function(e){return{setAmountOfPredictions:function(t){e({type:"setAmountOfPredictions",amountOfPredictions:t})},resetAmountOfPredictions:function(){e({type:"resetAmountOfPredictions"})}}}))(H),_=function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(b.a,null,r.a.createElement(b.a.Header,null,"Sample Text"),r.a.createElement(b.a.Body,null,r.a.createElement(b.a.Text,null,r.a.createElement(E.a.Control,{as:"textarea",rows:"10",value:this.props.sampletext,onChange:function(t){return e.props.setSampleText(t.target.value)}}))))}}]),a}(r.a.Component),R=Object(O.b)((function(e){return{sampletext:e.sampletext}}),(function(e){return{setSampleText:function(t){e({type:"setSampleText",sampletext:t})}}}))(_),L=function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(e,n){var r;return Object(m.a)(this,a),(r=t.call(this,e,n)).handleChange=function(e){r.props.setTemperature(Math.round(100*e)/100)},r.resetValue=function(e){r.props.resetTemperature(),e.target.blur()},r.formatValue=function(e){var t=Math.round(100*e)/100,a=Math.trunc(t),n=Math.round(10*(t-a));return String(a).padStart(2,"0")+"."+String(n).padEnd(1,"0")},r.state={value:1,resetValue:1},r.resetValue=r.resetValue.bind(Object(d.a)(r)),r.formatValue=r.formatValue.bind(Object(d.a)(r)),r}return Object(p.a)(a,[{key:"render",value:function(){var e=this.props.temperature;return r.a.createElement(b.a,null,r.a.createElement(b.a.Header,null,"Temperature"),r.a.createElement(b.a.Body,null,r.a.createElement(V.a,{min:.1,max:10,step:.1,value:e,onChange:this.handleChange})),r.a.createElement(b.a.Footer,null,r.a.createElement("div",{className:"d-flex"},r.a.createElement("div",{className:"p-2"},r.a.createElement(k.a,{as:"input",type:"button",value:this.formatValue(e),size:"sm",disabled:!0})),r.a.createElement("div",{className:"p-2 ml-auto"},r.a.createElement(k.a,{as:"input",type:"reset",value:"Reset",size:"sm",onClick:this.resetValue})))))}}]),a}(r.a.Component),D=Object(O.b)((function(e){return{temperature:e.temperature}}),(function(e){return{setTemperature:function(t){e({type:"setTemperature",temperature:t})},resetTemperature:function(){e({type:"resetTemperature"})}}}))(L),B=function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(e,n){var r;return Object(m.a)(this,a),(r=t.call(this,e,n)).resetValue=function(e){r.props.resetTopK(),e.target.blur()},r.resetValue=r.resetValue.bind(Object(d.a)(r)),r}return Object(p.a)(a,[{key:"render",value:function(){var e=this.props.topk,t=this.props.setTopK;return r.a.createElement(b.a,null,r.a.createElement(b.a.Header,null,"Top K"),r.a.createElement(b.a.Body,null,r.a.createElement(V.a,{min:1,max:100,step:1,value:e,onChange:t})),r.a.createElement(b.a.Footer,null,r.a.createElement("div",{className:"d-flex"},r.a.createElement("div",{className:"p-2"},r.a.createElement(k.a,{as:"input",type:"button",value:String(e).padStart(3,"0"),size:"sm",disabled:!0})),r.a.createElement("div",{className:"p-2 ml-auto"},r.a.createElement(k.a,{as:"input",type:"reset",value:"Reset",size:"sm",onClick:this.resetValue})))))}}]),a}(r.a.Component),A=Object(O.b)((function(e){return{topk:e.topk}}),(function(e){return{setTopK:function(t){e({type:"setTopK",topk:t})},resetTopK:function(){e({type:"resetTopK"})}}}))(B),K=function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(e,n){var r;return Object(m.a)(this,a),(r=t.call(this,e,n)).resetValue=function(e){r.props.resetTokens(),e.target.blur()},r.resetValue=r.resetValue.bind(Object(d.a)(r)),r}return Object(p.a)(a,[{key:"render",value:function(){var e=this.props.tokens,t=this.props.setTokens;return r.a.createElement(b.a,null,r.a.createElement(b.a.Header,null,"Tokens"),r.a.createElement(b.a.Body,null,r.a.createElement(V.a,{min:1,max:100,step:1,value:e,onChange:t})),r.a.createElement(b.a.Footer,null,r.a.createElement("div",{className:"d-flex"},r.a.createElement("div",{className:"p-2"},r.a.createElement(k.a,{as:"input",type:"button",value:String(e).padStart(3,"0"),size:"sm",disabled:!0})),r.a.createElement("div",{className:"p-2 ml-auto"},r.a.createElement(k.a,{as:"input",type:"reset",value:"Reset",size:"sm",onClick:this.resetValue})))))}}]),a}(r.a.Component),F=Object(O.b)((function(e){return{tokens:e.tokens}}),(function(e){return{setTokens:function(t){e({type:"setTokens",tokens:t})},resetTokens:function(){e({type:"resetTokens"})}}}))(K);var W=function(){return r.a.createElement(l.a,null,r.a.createElement(c.a,{bg:"primary",variant:"dark"},r.a.createElement(c.a.Brand,{href:"#"},"gpt-2 ui by Steffen")),r.a.createElement(u.a,{className:"mt-3"},r.a.createElement(o.a,null,r.a.createElement(g,null)),r.a.createElement(o.a,null,r.a.createElement(R,null))),r.a.createElement(z,null),r.a.createElement(u.a,{className:"mt-3"},r.a.createElement(o.a,null,r.a.createElement(C,null)),r.a.createElement(o.a,null,r.a.createElement(A,null)),r.a.createElement(o.a,null,r.a.createElement(D,null)),r.a.createElement(o.a,null,r.a.createElement(F,null)),r.a.createElement(o.a,null,r.a.createElement(I,null))))},G=a(21),J=a(13),U={amountOfPredictions:5,errorMessage:"",generatedtext:"Es war einmal eine Prinzessin, die hatte eine kleine Ente.",isLoading:!1,predictions:[],sampletext:"Was erlauben Strunz? Haben Sie gesehen Mittwoch, welche Mannschaft hat gespielt Mittwoch? Hat gespielt Mehmet, oder gespielt Basler, oder gespielt Trapattoni? Diese Spieler beklagen mehr als spiel! Wissen Sie, warum die Italien-Mannschaften kaufen nicht diese Spieler? Weil wir haben gesehen viele Male Summe Spiel. Haben gesagt, sind nicht Spieler f\xfcr die italienisch Meisters. Strunz! Strunz ist zwei Jahre hier, hat gespielt zehn Spiele, ist immer verletzt. Was erlauben Strunz? Letzte Jahre Meister geworden mit Hamann \xe4h Nerlinger. Diese Spieler waren Spieler! War Meister geworden! Ist immer verletzt! Hat gespielt 25 Spiele in diese Mannschaft, in diese Verein! Muss respektieren die andere Kollega! Haben viel nette Kollegan, stellen sie die Kollega in Frage! Haben keinen Mut an Worten, aber ich weiss, was denken \xfcber diese Spieler!",temperature:1,time:"0",tokens:40,topk:20},$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"setTopK":return Object(J.a)({},e,{topk:t.topk});case"resetTopK":return Object(J.a)({},e,{topk:U.topk});case"setAmountOfPredictions":return Object(J.a)({},e,{amountOfPredictions:t.amountOfPredictions});case"resetAmountOfPredictions":return Object(J.a)({},e,{amountOfPredictions:U.amountOfPredictions});case"setTokens":return Object(J.a)({},e,{tokens:t.tokens});case"resetTokens":return Object(J.a)({},e,{tokens:U.tokens});case"setTemperature":return Object(J.a)({},e,{temperature:t.temperature});case"resetTemperature":return Object(J.a)({},e,{temperature:U.temperature});case"setSampleText":return Object(J.a)({},e,{sampletext:t.sampletext});case"FETCH_PREDICTIONS_LOADING":return Object(J.a)({},e,{isLoading:t.isLoading});case"FETCH_PREDICTIONS_ERROR":return Object(J.a)({},e,{errorMessage:t.errorMessage,isLoading:!1});case"FETCH_PREDICTIONS_SUCCESS":return Object(J.a)({},e,{errorMessage:"",isLoading:!1,predictions:t.predictions,time:t.time});case"addText":return Object(J.a)({},e,{generatedtext:e.generatedtext+" "+t.text});case"setText":return Object(J.a)({},e,{generatedtext:t.generatedtext});default:return e}},q=a(49),Q=Object(G.a)(q.a,(function(e){return function(t){return function(a){console.log("dispatching",a),console.log("previous time",e.getState().time),t(a),console.log("new time",e.getState().time)}}}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var X=Object(G.c)($,Q);s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(O.a,{store:X},r.a.createElement(W,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[50,1,2]]]);
//# sourceMappingURL=main.f280f884.chunk.js.map